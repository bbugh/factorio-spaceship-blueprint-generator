(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function G(){}function fn(e,t){for(const n in t)e[n]=t[n];return e}function Pt(e){return e()}function st(){return Object.create(null)}function $(e){e.forEach(Pt)}function Ye(e){return typeof e=="function"}function Q(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let qe;function de(e,t){return qe||(qe=document.createElement("a")),qe.href=t,e===qe.href}function cn(e){return Object.keys(e).length===0}function lt(e,...t){if(e==null)return G;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function dn(e){let t;return lt(e,n=>t=n)(),t}function xe(e,t,n){e.$$.on_destroy.push(lt(t,n))}function le(e,t,n,r){if(e){const o=Ot(e,t,n,r);return e[0](o)}}function Ot(e,t,n,r){return e[1]&&r?fn(n.ctx.slice(),e[1](r(t))):n.ctx}function re(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const i=[],l=Math.max(t.dirty.length,o.length);for(let s=0;s<l;s+=1)i[s]=t.dirty[s]|o[s];return i}return t.dirty|o}return t.dirty}function oe(e,t,n,r,o,i){if(o){const l=Ot(t,n,r,i);e.p(l,o)}}function se(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function gn(e){const t={};for(const n in e)t[n]=!0;return t}function ut(e,t,n){return e.set(n),t}function mn(e){return e&&Ye(e.destroy)?e.destroy:G}function w(e,t){e.appendChild(t)}function L(e,t,n){e.insertBefore(t,n||null)}function I(e){e.parentNode&&e.parentNode.removeChild(e)}function v(e){return document.createElement(e)}function at(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function P(e){return document.createTextNode(e)}function k(){return P(" ")}function Rt(){return P("")}function D(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function m(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function pn(e){return Array.from(e.childNodes)}function J(e,t){t=""+t,e.data!==t&&(e.data=t)}function ft(e,t){e.value=t??""}function ne(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function ct(e,t,n){for(let r=0;r<e.options.length;r+=1){const o=e.options[r];if(o.__value===t){o.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function _n(e){const t=e.querySelector(":checked");return t&&t.__value}function we(e,t,n){e.classList[n?"add":"remove"](t)}function hn(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t),o}let We;function Fe(e){We=e}function rt(){if(!We)throw new Error("Function called outside component initialization");return We}function bn(e){rt().$$.on_mount.push(e)}function Wt(e){rt().$$.on_destroy.push(e)}function Kt(){const e=rt();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=hn(t,n,{cancelable:r});return o.slice().forEach(l=>{l.call(e,i)}),!i.defaultPrevented}return!0}}function ce(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const ye=[],X=[];let Se=[];const et=[],wn=Promise.resolve();let tt=!1;function vn(){tt||(tt=!0,wn.then(Bt))}function Ve(e){Se.push(e)}function ge(e){et.push(e)}const $e=new Set;let ve=0;function Bt(){if(ve!==0)return;const e=We;do{try{for(;ve<ye.length;){const t=ye[ve];ve++,Fe(t),An(t.$$)}}catch(t){throw ye.length=0,ve=0,t}for(Fe(null),ye.length=0,ve=0;X.length;)X.pop()();for(let t=0;t<Se.length;t+=1){const n=Se[t];$e.has(n)||($e.add(n),n())}Se.length=0}while(ye.length);for(;et.length;)et.pop()();tt=!1,$e.clear(),Fe(e)}function An(e){if(e.fragment!==null){e.update(),$(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ve)}}function yn(e){const t=[],n=[];Se.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Se=t}const ze=new Set;let pe;function Ie(){pe={r:0,c:[],p:pe}}function Le(){pe.r||$(pe.c),pe=pe.p}function y(e,t){e&&e.i&&(ze.delete(e),e.i(t))}function S(e,t,n,r){if(e&&e.o){if(ze.has(e))return;ze.add(e),pe.c.push(()=>{ze.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function me(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function B(e){e&&e.c()}function O(e,t,n,r){const{fragment:o,after_update:i}=e.$$;o&&o.m(t,n),r||Ve(()=>{const l=e.$$.on_mount.map(Pt).filter(Ye);e.$$.on_destroy?e.$$.on_destroy.push(...l):$(l),e.$$.on_mount=[]}),i.forEach(Ve)}function R(e,t){const n=e.$$;n.fragment!==null&&(yn(n.after_update),$(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function En(e,t){e.$$.dirty[0]===-1&&(ye.push(e),vn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ee(e,t,n,r,o,i,l,s=[-1]){const u=We;Fe(e);const a=e.$$={fragment:null,ctx:[],props:i,update:G,not_equal:o,bound:st(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:st(),dirty:s,skip_bound:!1,root:t.target||u.$$.root};l&&l(a.root);let f=!1;if(a.ctx=n?n(e,t.props||{},(c,g,...d)=>{const p=d.length?d[0]:g;return a.ctx&&o(a.ctx[c],a.ctx[c]=p)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](p),f&&En(e,c)),g}):[],a.update(),f=!0,$(a.before_update),a.fragment=r?r(a.ctx):!1,t.target){if(t.hydrate){const c=pn(t.target);a.fragment&&a.fragment.l(c),c.forEach(I)}else a.fragment&&a.fragment.c();t.intro&&y(e.$$.fragment),O(e,t.target,t.anchor,t.customElement),Bt()}Fe(u)}class te{$destroy(){R(this,1),this.$destroy=G}$on(t,n){if(!Ye(n))return G;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!cn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}let q;const ie=new Array(128).fill(void 0);ie.push(void 0,null,!0,!1);function Me(e){return ie[e]}let Pe=ie.length;function Sn(e){e<132||(ie[e]=Pe,Pe=e)}function Ee(e){const t=Me(e);return Sn(e),t}const Gt=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Gt.decode();let De=null;function Oe(){return(De===null||De.byteLength===0)&&(De=new Uint8Array(q.memory.buffer)),De}function Xe(e,t){return Gt.decode(Oe().subarray(e,e+t))}function fe(e){Pe===ie.length&&ie.push(ie.length+1);const t=Pe;return Pe=ie[t],ie[t]=e,t}let _e=0;function In(e,t){const n=t(e.length*1);return Oe().set(e,n/1),_e=e.length,n}const Je=new TextEncoder("utf-8"),Ln=typeof Je.encodeInto=="function"?function(e,t){return Je.encodeInto(e,t)}:function(e,t){const n=Je.encode(e);return t.set(n),{read:e.length,written:n.length}};function nt(e,t,n){if(n===void 0){const s=Je.encode(e),u=t(s.length);return Oe().subarray(u,u+s.length).set(s),_e=s.length,u}let r=e.length,o=t(r);const i=Oe();let l=0;for(;l<r;l++){const s=e.charCodeAt(l);if(s>127)break;i[o+l]=s}if(l!==r){l!==0&&(e=e.slice(l)),o=n(o,r,r=l+e.length*3);const s=Oe().subarray(o+l,o+r),u=Ln(e,s);l+=u.written}return _e=l,o}let Ce=null;function Re(){return(Ce===null||Ce.byteLength===0)&&(Ce=new Int32Array(q.memory.buffer)),Ce}function kn(e,t,n,r,o,i){try{const a=q.__wbindgen_add_to_stack_pointer(-16),f=In(e,q.__wbindgen_malloc),c=_e,g=nt(r,q.__wbindgen_malloc,q.__wbindgen_realloc),d=_e,p=nt(o,q.__wbindgen_malloc,q.__wbindgen_realloc),b=_e;q.getBlueprintFromImage(a,f,c,t,n,g,d,p,b,i);var l=Re()[a/4+0],s=Re()[a/4+1],u=Re()[a/4+2];if(u)throw Ee(s);return Ee(l)}finally{q.__wbindgen_add_to_stack_pointer(16)}}async function Mn(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function Dn(){const e={};return e.wbg={},e.wbg.__wbindgen_object_drop_ref=function(t){Ee(t)},e.wbg.__wbindgen_error_new=function(t,n){const r=new Error(Xe(t,n));return fe(r)},e.wbg.__wbindgen_object_clone_ref=function(t){const n=Me(t);return fe(n)},e.wbg.__wbindgen_number_new=function(t){return fe(t)},e.wbg.__wbindgen_bigint_from_u64=function(t){const n=BigInt.asUintN(64,t);return fe(n)},e.wbg.__wbindgen_string_new=function(t,n){const r=Xe(t,n);return fe(r)},e.wbg.__wbg_set_20cbc34131e76824=function(t,n,r){Me(t)[Ee(n)]=Ee(r)},e.wbg.__wbg_new_abda76e883ba8a5f=function(){const t=new Error;return fe(t)},e.wbg.__wbg_stack_658279fe44541cf6=function(t,n){const r=Me(n).stack,o=nt(r,q.__wbindgen_malloc,q.__wbindgen_realloc),i=_e;Re()[t/4+1]=i,Re()[t/4+0]=o},e.wbg.__wbg_error_f851667af71bcfc6=function(t,n){try{console.error(Xe(t,n))}finally{q.__wbindgen_free(t,n)}},e.wbg.__wbg_new_b525de17f44a8943=function(){const t=new Array;return fe(t)},e.wbg.__wbg_new_f9876326328f45ed=function(){const t=new Object;return fe(t)},e.wbg.__wbg_set_17224bc548dd1d7b=function(t,n,r){Me(t)[n>>>0]=Ee(r)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(Xe(t,n))},e}function Cn(e,t){return q=e.exports,Nt.__wbindgen_wasm_module=t,Ce=null,De=null,q.__wbindgen_start(),q}async function Nt(e){typeof e>"u"&&(e=new URL(""+new URL("image_to_blueprint_bg-f5448470.wasm",import.meta.url).href,self.location));const t=Dn();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await Mn(await e,t);return Cn(n,r)}const Ae=[];function Tn(e,t){return{subscribe:Ht(e,t).subscribe}}function Ht(e,t=G){let n;const r=new Set;function o(s){if(Q(e,s)&&(e=s,n)){const u=!Ae.length;for(const a of r)a[1](),Ae.push(a,e);if(u){for(let a=0;a<Ae.length;a+=2)Ae[a][0](Ae[a+1]);Ae.length=0}}}function i(s){o(s(e))}function l(s,u=G){const a=[s,u];return r.add(a),r.size===1&&(n=t(o)||G),s(e),()=>{r.delete(a),r.size===0&&n&&(n(),n=null)}}return{set:o,update:i,subscribe:l}}function jt(e,t,n){const r=!Array.isArray(e),o=r?[e]:e,i=t.length<2;return Tn(n,l=>{let s=!1;const u=[];let a=0,f=G;const c=()=>{if(a)return;f();const d=t(r?u[0]:u,l);i?l(d):f=Ye(d)?d:G},g=o.map((d,p)=>lt(d,b=>{u[p]=b,a&=~(1<<p),s&&c()},()=>{a|=1<<p}));return s=!0,c(),function(){$(g),f(),s=!1}})}const Fn={"space-exploration":{floor:"se-spaceship-floor",wall:"se-spaceship-wall"},"space-age":{floor:"space-platform-foundation",wall:"stone-wall"}},qt={module:"space-age",customWallTile:"stone-wall",customFloorTile:"space-platform-foundation",generateWalls:!0,blueprint:"",generating:!1,imageBuffer:null,imageData:null,inputSrc:null,outputEntityCount:0,outputHeight:0,outputTileCount:0,outputWidth:0,sourceHeight:0,sourceWidth:0},Y=Ht(qt);function Te(e){Y.update(t=>({...t,...e}))}function Pn(){Y.set(qt)}const On=jt(Y,e=>e.module==="custom"?{floor:e.customFloorTile,wall:e.customWallTile}:Fn[e.module]),Rn=jt(Y,e=>e.module==="space-age"?200:Math.max(e.sourceWidth,e.sourceHeight));function dt(e){if(e.type!=="image/gif"&&e.type!=="image/jpeg"&&e.type!=="image/png"&&e.type!=="image/webp")throw new Error("Invalid file type!");const t=new FileReader;t.onload=()=>{const n=t.result,r=new Uint8Array(n);Te({imageBuffer:r,inputSrc:URL.createObjectURL(e)})},t.readAsArrayBuffer(e)}function Wn(e,t,n,r,o){const{generating:i,imageBuffer:l,inputSrc:s}=dn(Y);if(i){console.debug("Already generating!");return}if(!s)throw new Error("No image selected!");if(l===null)throw new Error("Image not loaded!");Te({generating:!0});try{const u=kn(l,e,t,n,r,o);Te({blueprint:u.base64,outputTileCount:u.image.tileCount,outputEntityCount:u.image.entityCount,outputWidth:u.image.width,outputHeight:u.image.height});const a=new Uint8ClampedArray(u.image.data),f=new ImageData(a,u.image.width,u.image.height);Te({imageData:f})}catch(u){throw console.error(u),new Error(`ERROR: ${u.message}`)}finally{Te({generating:!1})}}function Ge(e,t,n,r){function o(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function s(f){try{a(r.next(f))}catch(c){l(c)}}function u(f){try{a(r.throw(f))}catch(c){l(c)}}function a(f){f.done?i(f.value):o(f.value).then(s,u)}a((r=r.apply(e,t||[])).next())})}function Ne(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=s(0),l.throw=s(1),l.return=s(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(a){return function(f){return u([a,f])}}function u(a){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,a[0]&&(n=0)),n;)try{if(r=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,o=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1],i=a;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(a);break}i[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(f){a=[6,f],o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Kn(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],l;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){l={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return i}function Bn(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Kn(arguments[t]));return e}var Gn=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function Qe(e,t){var n=Nn(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function Nn(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),o=Gn.get(r);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var Hn=[".DS_Store","Thumbs.db"];function jn(e){return Ge(this,void 0,void 0,function(){return Ne(this,function(t){return[2,qn(e)&&e.dataTransfer?zn(e.dataTransfer,e.type):Xn(e)]})})}function qn(e){return!!e.dataTransfer}function Xn(e){var t=Un(e.target)?e.target.files?it(e.target.files):[]:[];return t.map(function(n){return Qe(n)})}function Un(e){return e!==null}function zn(e,t){return Ge(this,void 0,void 0,function(){var n,r;return Ne(this,function(o){switch(o.label){case 0:return e.items?(n=it(e.items).filter(function(i){return i.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(Jn))]):[3,2];case 1:return r=o.sent(),[2,gt(Xt(r))];case 2:return[2,gt(it(e.files).map(function(i){return Qe(i)}))]}})})}function gt(e){return e.filter(function(t){return Hn.indexOf(t.name)===-1})}function it(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function Jn(e){if(typeof e.webkitGetAsEntry!="function")return mt(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Ut(t):mt(e)}function Xt(e){return e.reduce(function(t,n){return Bn(t,Array.isArray(n)?Xt(n):[n])},[])}function mt(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=Qe(t);return Promise.resolve(n)}function Vn(e){return Ge(this,void 0,void 0,function(){return Ne(this,function(t){return[2,e.isDirectory?Ut(e):Yn(e)]})})}function Ut(e){var t=e.createReader();return new Promise(function(n,r){var o=[];function i(){var l=this;t.readEntries(function(s){return Ge(l,void 0,void 0,function(){var u,a,f;return Ne(this,function(c){switch(c.label){case 0:if(s.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return u=c.sent(),n(u),[3,4];case 3:return a=c.sent(),r(a),[3,4];case 4:return[3,6];case 5:f=Promise.all(s.map(Vn)),o.push(f),i(),c.label=6;case 6:return[2]}})})},function(s){r(s)})}i()})}function Yn(e){return Ge(this,void 0,void 0,function(){return Ne(this,function(t){return[2,new Promise(function(n,r){e.file(function(o){var i=Qe(o,e.fullPath);n(i)},function(o){r(o)})})]})})}function Qn(e,t){if(e&&t){const n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(l=>{const s=l.trim().toLowerCase();return s.charAt(0)==="."?r.toLowerCase().endsWith(s):s.endsWith("/*")?i===s.replace(/\/.*$/,""):o===s})}return!0}const Zn="file-invalid-type",xn="file-too-large",$n="file-too-small",ei="too-many-files",ti=e=>{e=Array.isArray(e)&&e.length===1?e[0]:e;const t=Array.isArray(e)?`one of ${e.join(", ")}`:e;return{code:Zn,message:`File type must be ${t}`}},pt=e=>({code:xn,message:`File is larger than ${e} bytes`}),_t=e=>({code:$n,message:`File is smaller than ${e} bytes`}),ni={code:ei,message:"Too many files"};function ii(e,t){const n=e.type==="application/x-moz-file"||Qn(e,t);return[n,n?null:ti(t)]}function li(e,t,n){if(ke(e.size))if(ke(t)&&ke(n)){if(e.size>n)return[!1,pt(n)];if(e.size<t)return[!1,_t(t)]}else{if(ke(t)&&e.size<t)return[!1,_t(t)];if(ke(n)&&e.size>n)return[!1,pt(n)]}return[!0,null]}function ke(e){return e!=null}function ht(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Ue(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,t=>t==="Files"||t==="application/x-moz-file"):!!e.target&&!!e.target.files}function ri(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function oi(e){return e.indexOf("Edge/")!==-1}function si(e=window.navigator.userAgent){return ri(e)||oi(e)}function ui(e){let t;return{c(){t=v("p"),t.textContent="Drag 'n' drop some files here, or click to select files"},m(n,r){L(n,t,r)},p:G,d(n){n&&I(t)}}}function ai(e){let t,n,r,o,i,l,s;const u=e[33].default,a=le(u,e,e[32],null),f=a||ui();return{c(){t=v("div"),n=v("input"),r=k(),f&&f.c(),m(n,"accept",e[1]),n.multiple=e[2],n.required=e[7],m(n,"type","file"),m(n,"name",e[6]),m(n,"autocomplete","off"),m(n,"tabindex","-1"),ne(n,"display","none"),m(t,"tabindex","0"),m(t,"class",o=(e[5]?"":"dropzone")+" "+e[3]+" svelte-817dg2"),m(t,"style",e[4])},m(c,g){L(c,t,g),w(t,n),e[34](n),w(t,r),f&&f.m(t,null),e[35](t),i=!0,l||(s=[D(window,"focus",e[22]),D(window,"dragover",e[20]),D(window,"drop",e[21]),D(n,"change",e[16]),D(n,"click",fi),D(t,"keydown",e[18](e[9])),D(t,"focus",e[18](e[10])),D(t,"blur",e[18](e[11])),D(t,"click",e[17](e[12])),D(t,"dragenter",e[19](e[13])),D(t,"dragover",e[19](e[14])),D(t,"dragleave",e[19](e[15])),D(t,"drop",e[19](e[16]))],l=!0)},p(c,g){(!i||g[0]&2)&&m(n,"accept",c[1]),(!i||g[0]&4)&&(n.multiple=c[2]),(!i||g[0]&128)&&(n.required=c[7]),(!i||g[0]&64)&&m(n,"name",c[6]),a&&a.p&&(!i||g[1]&2)&&oe(a,u,c,c[32],i?re(u,c[32],g,null):se(c[32]),null),(!i||g[0]&40&&o!==(o=(c[5]?"":"dropzone")+" "+c[3]+" svelte-817dg2"))&&m(t,"class",o),(!i||g[0]&16)&&m(t,"style",c[4])},i(c){i||(y(f,c),i=!0)},o(c){S(f,c),i=!1},d(c){c&&I(t),e[34](null),f&&f.d(c),e[35](null),l=!1,$(s)}}}function fi(e){e.stopPropagation()}function ci(e,t,n){let{$$slots:r={},$$scope:o}=t,{accept:i}=t,{disabled:l=!1}=t,{getFilesFromEvent:s=jn}=t,{maxSize:u=1/0}=t,{minSize:a=0}=t,{multiple:f=!0}=t,{preventDropOnDocument:c=!0}=t,{noClick:g=!1}=t,{noKeyboard:d=!1}=t,{noDrag:p=!1}=t,{noDragEventsBubbling:b=!1}=t,{containerClasses:A=""}=t,{containerStyles:E=""}=t,{disableDefaultStyles:F=!1}=t,{name:T=""}=t,{inputElement:C}=t,{required:Z=!1}=t;const H=Kt();let W={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]},N;function z(){W.isFileDialogActive=!1,W.isDragActive=!1,W.draggedFiles=[],W.acceptedFiles=[],W.fileRejections=[]}function V(){C&&(n(0,C.value=null,C),W.isFileDialogActive=!0,C.click())}function K(_){!N||!N.isEqualNode(_.target)||(_.keyCode===32||_.keyCode===13)&&(_.preventDefault(),V())}function U(){W.isFocused=!0}function h(){W.isFocused=!1}function M(){g||(si()?setTimeout(V,0):V())}function j(_){_.preventDefault(),je(_),he=[...he,_.target],Ue(_)&&Promise.resolve(s(_)).then(ue=>{ht(_)&&!b||(W.draggedFiles=ue,W.isDragActive=!0,H("dragenter",{dragEvent:_}))})}function He(_){if(_.preventDefault(),je(_),_.dataTransfer)try{_.dataTransfer.dropEffect="copy"}catch{}return Ue(_)&&H("dragover",{dragEvent:_}),!1}function Vt(_){_.preventDefault(),je(_);const ue=he.filter(ae=>N&&N.contains(ae)),x=ue.indexOf(_.target);x!==-1&&ue.splice(x,1),he=ue,!(ue.length>0)&&(W.isDragActive=!1,W.draggedFiles=[],Ue(_)&&H("dragleave",{dragEvent:_}))}function Yt(_){_.preventDefault(),je(_),he=[],Ue(_)&&(H("filedropped",{event:_}),Promise.resolve(s(_)).then(ue=>{if(ht(_)&&!b)return;const x=[],ae=[];ue.forEach(be=>{const[ln,rn]=ii(be,i),[on,sn]=li(be,a,u);if(ln&&on)x.push(be);else{const un=[rn,sn].filter(an=>an);ae.push({file:be,errors:un})}}),!f&&x.length>1&&(x.forEach(be=>{ae.push({file:be,errors:[ni]})}),x.splice(0)),_.dataTransfer&&n(0,C.files=_.dataTransfer.files,C),W.acceptedFiles=x,W.fileRejections=ae,H("drop",{acceptedFiles:x,fileRejections:ae,event:_}),ae.length>0&&H("droprejected",{fileRejections:ae,event:_}),x.length>0&&H("dropaccepted",{acceptedFiles:x,event:_})})),z()}function Ze(_){return l?null:_}function Qt(_){return d?null:Ze(_)}function Zt(_){return p?null:Ze(_)}function je(_){b&&_.stopPropagation()}function xt(_){c&&_.preventDefault()}let he=[];function $t(_){c&&(N&&N.contains(_.target)||(_.preventDefault(),he=[]))}function en(){W.isFileDialogActive&&setTimeout(()=>{if(C){const{files:_}=C;_.length||(W.isFileDialogActive=!1,H("filedialogcancel"))}},300)}Wt(()=>{n(0,C=null)});function tn(_){X[_?"unshift":"push"](()=>{C=_,n(0,C)})}function nn(_){X[_?"unshift":"push"](()=>{N=_,n(8,N)})}return e.$$set=_=>{"accept"in _&&n(1,i=_.accept),"disabled"in _&&n(23,l=_.disabled),"getFilesFromEvent"in _&&n(24,s=_.getFilesFromEvent),"maxSize"in _&&n(25,u=_.maxSize),"minSize"in _&&n(26,a=_.minSize),"multiple"in _&&n(2,f=_.multiple),"preventDropOnDocument"in _&&n(27,c=_.preventDropOnDocument),"noClick"in _&&n(28,g=_.noClick),"noKeyboard"in _&&n(29,d=_.noKeyboard),"noDrag"in _&&n(30,p=_.noDrag),"noDragEventsBubbling"in _&&n(31,b=_.noDragEventsBubbling),"containerClasses"in _&&n(3,A=_.containerClasses),"containerStyles"in _&&n(4,E=_.containerStyles),"disableDefaultStyles"in _&&n(5,F=_.disableDefaultStyles),"name"in _&&n(6,T=_.name),"inputElement"in _&&n(0,C=_.inputElement),"required"in _&&n(7,Z=_.required),"$$scope"in _&&n(32,o=_.$$scope)},[C,i,f,A,E,F,T,Z,N,K,U,h,M,j,He,Vt,Yt,Ze,Qt,Zt,xt,$t,en,l,s,u,a,c,g,d,p,b,o,r,tn,nn]}class di extends te{constructor(t){super(),ee(this,t,ci,ai,Q,{accept:1,disabled:23,getFilesFromEvent:24,maxSize:25,minSize:26,multiple:2,preventDropOnDocument:27,noClick:28,noKeyboard:29,noDrag:30,noDragEventsBubbling:31,containerClasses:3,containerStyles:4,disableDefaultStyles:5,name:6,inputElement:0,required:7},null,[-1,-1])}}function bt(e){let t,n;return{c(){t=v("div"),n=P(e[0]),m(t,"class","ui-input-group-title pt-2 pl-2 font-semibold svelte-1q4z6ng")},m(r,o){L(r,t,o),w(t,n)},p(r,o){o&1&&J(n,r[0])},d(r){r&&I(t)}}}function gi(e){let t,n,r,o,i,l=e[0]&&bt(e);const s=e[2].default,u=le(s,e,e[1],null);return{c(){t=v("div"),n=v("div"),l&&l.c(),r=k(),o=v("div"),u&&u.c(),m(o,"class","flex flex-col gap-3 empty:hidden"),m(n,"class","ui-input-group-inner svelte-1q4z6ng"),m(t,"class","ui-input-group-outer svelte-1q4z6ng")},m(a,f){L(a,t,f),w(t,n),l&&l.m(n,null),w(n,r),w(n,o),u&&u.m(o,null),i=!0},p(a,[f]){a[0]?l?l.p(a,f):(l=bt(a),l.c(),l.m(n,r)):l&&(l.d(1),l=null),u&&u.p&&(!i||f&2)&&oe(u,s,a,a[1],i?re(s,a[1],f,null):se(a[1]),null)},i(a){i||(y(u,a),i=!0)},o(a){S(u,a),i=!1},d(a){a&&I(t),l&&l.d(),u&&u.d(a)}}}function mi(e,t,n){let{$$slots:r={},$$scope:o}=t,{title:i=void 0}=t;return e.$$set=l=>{"title"in l&&n(0,i=l.title),"$$scope"in l&&n(1,o=l.$$scope)},[i,o,r]}class Ke extends te{constructor(t){super(),ee(this,t,mi,gi,Q,{title:0})}}function pi(e){let t,n;function r(l){if(n)return;t=e.getAttribute("title")||e.getAttribute("data-title"),e.removeAttribute("title");const s=e.getBoundingClientRect(),u=s.left+s.width/2,a=s.top+s.height/2;console.log(u,a),n=n??document.createElement("div"),n.textContent=t,n.className="tooltip",n.style.cssText=`
			position: absolute;
			top: ${a}px;
			left: ${u}px;
      z-index: 1000;
		`,document.body.appendChild(n)}function o(l){}function i(){n&&(document.body.removeChild(n),n=void 0,e.setAttribute("title",t))}return e.addEventListener("mouseover",r),e.addEventListener("mouseleave",i),e.addEventListener("mousemove",o),{destroy(){e.removeEventListener("mouseover",r),e.removeEventListener("mouseleave",i),e.removeEventListener("mousemove",o)}}}function _i(e){let t,n,r,o;return{c(){t=at("svg"),n=at("path"),m(n,"d","M256 56C145.72 56 56 145.72 56 256s89.72 200 200 200s200-89.72 200-200S366.28 56 256 56zm0 82a26 26 0 1 1-26 26a26 26 0 0 1 26-26zm48 226h-88a16 16 0 0 1 0-32h28v-88h-16a16 16 0 0 1 0-32h32a16 16 0 0 1 16 16v104h28a16 16 0 0 1 0 32z"),m(n,"fill","currentColor"),m(t,"xmlns","http://www.w3.org/2000/svg"),m(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),m(t,"viewBox","0 0 512 512"),ne(t,"color","var(--ui-info-button-color)"),m(t,"class","relative inline h-3 min-h-3 w-3 min-w-3"),m(t,"data-title",e[0])},m(i,l){L(i,t,l),w(t,n),r||(o=mn(pi.call(null,t)),r=!0)},p(i,[l]){l&1&&m(t,"data-title",i[0])},i:G,o:G,d(i){i&&I(t),r=!1,o()}}}function hi(e,t,n){let{title:r="ERR: Missing tooltip text!"}=t;return e.$$set=o=>{"title"in o&&n(0,r=o.title)},[r]}class zt extends te{constructor(t){super(),ee(this,t,hi,_i,Q,{title:0})}}function bi(e){return e.split(/[\s_\b]|(?=[A-Z])/).join("-").toLowerCase()}const wi=e=>({inputId:e&4}),wt=e=>({inputId:e[2]});function vi(e){let t,n,r,o,i,l,s;i=new zt({props:{title:e[1]}});const u=e[4].default,a=le(u,e,e[3],wt);return{c(){t=v("div"),n=v("label"),r=P(e[0]),o=k(),B(i.$$.fragment),l=k(),a&&a.c(),m(n,"for",e[2]),m(n,"class","flex items-center gap-1 whitespace-nowrap"),m(t,"class","flex w-full items-center justify-between gap-3 px-2 first:pt-2 last:pb-2")},m(f,c){L(f,t,c),w(t,n),w(n,r),w(n,o),O(i,n,null),w(t,l),a&&a.m(t,null),s=!0},p(f,[c]){(!s||c&1)&&J(r,f[0]);const g={};c&2&&(g.title=f[1]),i.$set(g),(!s||c&4)&&m(n,"for",f[2]),a&&a.p&&(!s||c&12)&&oe(a,u,f,f[3],s?re(u,f[3],c,wi):se(f[3]),wt)},i(f){s||(y(i.$$.fragment,f),y(a,f),s=!0)},o(f){S(i.$$.fragment,f),S(a,f),s=!1},d(f){f&&I(t),R(i),a&&a.d(f)}}}function Ai(e,t,n){let r,{$$slots:o={},$$scope:i}=t,{title:l}=t,{hint:s=""}=t;return e.$$set=u=>{"title"in u&&n(0,l=u.title),"hint"in u&&n(1,s=u.hint),"$$scope"in u&&n(3,i=u.$$scope)},e.$$.update=()=>{e.$$.dirty&1&&n(2,r=bi(l))},[l,s,r,i,o]}class Be extends te{constructor(t){super(),ee(this,t,Ai,vi,Q,{title:0,hint:1})}}function yi(e){let t,n,r,o,i,l,s,u,a,f,c;const g=e[3].default,d=le(g,e,e[2],null);return u=new zt({props:{title:e[1]}}),{c(){t=v("label"),n=v("input"),r=k(),o=v("div"),i=k(),l=v("div"),d&&d.c(),s=P(`
   
  `),B(u.$$.fragment),m(n,"type","checkbox"),m(n,"class","svelte-g2s1vi"),m(o,"class","checkbox svelte-g2s1vi"),m(l,"class","svelte-g2s1vi"),m(t,"class","checkbox-label flex items-center svelte-g2s1vi")},m(p,b){L(p,t,b),w(t,n),n.checked=e[0],w(t,r),w(t,o),w(t,i),w(t,l),d&&d.m(l,null),w(t,s),O(u,t,null),a=!0,f||(c=[D(n,"change",e[5]),D(n,"input",e[4])],f=!0)},p(p,[b]){b&1&&(n.checked=p[0]),d&&d.p&&(!a||b&4)&&oe(d,g,p,p[2],a?re(g,p[2],b,null):se(p[2]),null);const A={};b&2&&(A.title=p[1]),u.$set(A)},i(p){a||(y(d,p),y(u.$$.fragment,p),a=!0)},o(p){S(d,p),S(u.$$.fragment,p),a=!1},d(p){p&&I(t),d&&d.d(p),R(u),f=!1,$(c)}}}function Ei(e,t,n){let{$$slots:r={},$$scope:o}=t,{checked:i}=t,{hint:l}=t;function s(a){ce.call(this,e,a)}function u(){i=this.checked,n(0,i)}return e.$$set=a=>{"checked"in a&&n(0,i=a.checked),"hint"in a&&n(1,l=a.hint),"$$scope"in a&&n(2,o=a.$$scope)},[i,l,o,r,s,u]}class Si extends te{constructor(t){super(),ee(this,t,Ei,yi,Q,{checked:0,hint:1})}}function Ii(e){let t,n,r,o,i,l,s,u,a;return{c(){t=v("div"),n=v("div"),r=k(),o=v("div"),i=k(),l=v("div"),m(n,"class","custom-slider-background svelte-v4khub"),m(o,"class","custom-slider-track svelte-v4khub"),ne(o,"width",e[9]+"px"),we(o,"disabled",e[4]),m(l,"class","custom-slider-button svelte-v4khub"),m(l,"draggable","false"),we(l,"active",e[8]),we(l,"disabled",e[4]),m(t,"id",e[3]),m(t,"class","custom-slider svelte-v4khub"),m(t,"role","slider"),m(t,"aria-valuemin",e[1]),m(t,"aria-valuemax",e[2]),m(t,"aria-valuenow",e[0]),m(t,"tabindex",s=e[4]?-1:0)},m(f,c){L(f,t,c),w(t,n),w(t,r),w(t,o),e[17](o),w(t,i),w(t,l),e[18](l),e[19](t),u||(a=[D(l,"pointerdown",e[10]),D(l,"pointermove",e[12]),D(l,"pointerup",e[11]),D(t,"keydown",e[14]),D(t,"pointerup",e[13])],u=!0)},p(f,[c]){c&512&&ne(o,"width",f[9]+"px"),c&16&&we(o,"disabled",f[4]),c&256&&we(l,"active",f[8]),c&16&&we(l,"disabled",f[4]),c&8&&m(t,"id",f[3]),c&2&&m(t,"aria-valuemin",f[1]),c&4&&m(t,"aria-valuemax",f[2]),c&1&&m(t,"aria-valuenow",f[0]),c&16&&s!==(s=f[4]?-1:0)&&m(t,"tabindex",s)},i:G,o:G,d(f){f&&I(t),e[17](null),e[18](null),e[19](null),u=!1,$(a)}}}function Li(e,t,n){return Math.min(Math.max(e,t),n)}function ki(e,t,n){let r,o,{min:i=0}=t,{max:l=100}=t,{step:s=1}=t,{pageStep:u=s*10}=t,{id:a=null}=t,{value:f=i}=t,{disabled:c=!1}=t,g=null,d=null,p=null,b=!1,A=null;const E=Kt();function F(h){const M=Math.min(Math.max(h,i),l),j=Math.round(M/s)*s-r,He=o?parseFloat(j.toFixed(o)):Math.round(j);He!==f&&(n(0,f=He),E("input",{value:f}),z())}function T(h){const M=h-d.offsetLeft-g.offsetWidth/2,j=d.offsetWidth-g.offsetWidth;F(M*(l-i)/j+i)}function C(h){c||(h.stopPropagation(),g.setPointerCapture(h.pointerId),n(8,b=!0))}function Z(h){c||(h.stopPropagation(),g.releasePointerCapture(h.pointerId),n(8,b=!1),E("change",{value:f}))}function H(h){if(!b||!g.hasPointerCapture(h.pointerId)||c)return;h.stopPropagation();const M=h.clientX;T(M)}function W(h){c||(h.stopPropagation(),T(h.clientX))}function N(h){if(c)return;let M=!0;switch(h.key){case"ArrowLeft":case"ArrowDown":F(Math.max(i,f-s));break;case"ArrowRight":case"ArrowUp":F(Math.min(l,f+s));break;case"Home":F(i);break;case"End":F(l);break;case"PageDown":F(Math.max(i,f-u));break;case"PageUp":F(Math.min(l,f+u));break;default:M=!1}M&&h.preventDefault()}function z(){const h=(f-i)/(l-i)*(d.offsetWidth-g.offsetWidth);n(6,g.style.left=h.toString()+"px",g),n(9,A=h+g.offsetWidth/2)}function V(h){X[h?"unshift":"push"](()=>{p=h,n(7,p)})}function K(h){X[h?"unshift":"push"](()=>{g=h,n(6,g)})}function U(h){X[h?"unshift":"push"](()=>{d=h,n(5,d)})}return e.$$set=h=>{"min"in h&&n(1,i=h.min),"max"in h&&n(2,l=h.max),"step"in h&&n(15,s=h.step),"pageStep"in h&&n(16,u=h.pageStep),"id"in h&&n(3,a=h.id),"value"in h&&n(0,f=h.value),"disabled"in h&&n(4,c=h.disabled)},e.$$.update=()=>{e.$$.dirty&32770&&(r=Math.round(i/s)*s-i),e.$$.dirty&39&&f&&d&&(n(0,f=Li(f,i,l)),z()),e.$$.dirty&1&&(o=f.toString().split(".")[1]?f.toString().split(".")[1].length:0)},[f,i,l,a,c,d,g,p,b,A,C,Z,H,W,N,s,u,V,K,U]}class Mi extends te{constructor(t){super(),ee(this,t,ki,Ii,Q,{min:1,max:2,step:15,pageStep:16,id:3,value:0,disabled:4})}}function Di(e){let t,n,r,o;return{c(){t=v("input"),m(t,"id",e[1]),m(t,"class",n="ui-input "+e[3]+" svelte-1x5wkla"),m(t,"type","text"),t.disabled=e[2]},m(i,l){L(i,t,l),ft(t,e[0]),r||(o=[D(t,"input",e[6]),D(t,"change",e[4]),D(t,"input",e[5])],r=!0)},p(i,[l]){l&2&&m(t,"id",i[1]),l&8&&n!==(n="ui-input "+i[3]+" svelte-1x5wkla")&&m(t,"class",n),l&4&&(t.disabled=i[2]),l&1&&t.value!==i[0]&&ft(t,i[0])},i:G,o:G,d(i){i&&I(t),r=!1,$(o)}}}function Ci(e,t,n){let{id:r=""}=t,{value:o=void 0}=t,{disabled:i=!1}=t,{class:l=""}=t;function s(f){ce.call(this,e,f)}function u(f){ce.call(this,e,f)}function a(){o=this.value,n(0,o)}return e.$$set=f=>{"id"in f&&n(1,r=f.id),"value"in f&&n(0,o=f.value),"disabled"in f&&n(2,i=f.disabled),"class"in f&&n(3,l=f.class)},[o,r,i,l,s,u,a]}class ot extends te{constructor(t){super(),ee(this,t,Ci,Di,Q,{id:1,value:0,disabled:2,class:3})}}function Ti(e){let t,n,r,o,i,l,s;function u(g){e[6](g)}let a={id:e[1],min:e[2],max:e[3],step:e[4],disabled:e[5]};e[0]!==void 0&&(a.value=e[0]),n=new Mi({props:a}),X.push(()=>me(n,"value",u)),n.$on("input",e[7]),n.$on("change",e[8]);function f(g){e[9](g)}let c={class:"w-16",disabled:e[5]};return e[0]!==void 0&&(c.value=e[0]),i=new ot({props:c}),X.push(()=>me(i,"value",f)),i.$on("change",e[10]),i.$on("input",e[11]),{c(){t=v("div"),B(n.$$.fragment),o=k(),B(i.$$.fragment),m(t,"class","flex gap-2")},m(g,d){L(g,t,d),O(n,t,null),w(t,o),O(i,t,null),s=!0},p(g,[d]){const p={};d&2&&(p.id=g[1]),d&4&&(p.min=g[2]),d&8&&(p.max=g[3]),d&16&&(p.step=g[4]),d&32&&(p.disabled=g[5]),!r&&d&1&&(r=!0,p.value=g[0],ge(()=>r=!1)),n.$set(p);const b={};d&32&&(b.disabled=g[5]),!l&&d&1&&(l=!0,b.value=g[0],ge(()=>l=!1)),i.$set(b)},i(g){s||(y(n.$$.fragment,g),y(i.$$.fragment,g),s=!0)},o(g){S(n.$$.fragment,g),S(i.$$.fragment,g),s=!1},d(g){g&&I(t),R(n),R(i)}}}function Fi(e,t,n){let{id:r=""}=t,{value:o=void 0}=t,{min:i=void 0}=t,{max:l=void 0}=t,{step:s=void 0}=t,{disabled:u=!1}=t;function a(b){o=b,n(0,o)}function f(b){ce.call(this,e,b)}function c(b){ce.call(this,e,b)}function g(b){o=b,n(0,o)}function d(b){ce.call(this,e,b)}function p(b){ce.call(this,e,b)}return e.$$set=b=>{"id"in b&&n(1,r=b.id),"value"in b&&n(0,o=b.value),"min"in b&&n(2,i=b.min),"max"in b&&n(3,l=b.max),"step"in b&&n(4,s=b.step),"disabled"in b&&n(5,u=b.disabled)},[o,r,i,l,s,u,a,f,c,g,d,p]}class Jt extends te{constructor(t){super(),ee(this,t,Fi,Ti,Q,{id:1,value:0,min:2,max:3,step:4,disabled:5})}}const Pi=e=>({}),vt=e=>({}),Oi=e=>({}),At=e=>({}),Ri=e=>({}),yt=e=>({});function Et(e){let t,n;const r=e[3].titleActions,o=le(r,e,e[2],yt);return{c(){t=v("div"),o&&o.c(),m(t,"class","ui-panel-title-actions svelte-1jqmfef")},m(i,l){L(i,t,l),o&&o.m(t,null),n=!0},p(i,l){o&&o.p&&(!n||l&4)&&oe(o,r,i,i[2],n?re(r,i[2],l,Ri):se(i[2]),yt)},i(i){n||(y(o,i),n=!0)},o(i){S(o,i),n=!1},d(i){i&&I(t),o&&o.d(i)}}}function St(e){let t,n;const r=e[3].insetActions,o=le(r,e,e[2],At);return{c(){t=v("div"),o&&o.c(),m(t,"class","ui-inset-actions svelte-1jqmfef")},m(i,l){L(i,t,l),o&&o.m(t,null),n=!0},p(i,l){o&&o.p&&(!n||l&4)&&oe(o,r,i,i[2],n?re(r,i[2],l,Oi):se(i[2]),At)},i(i){n||(y(o,i),n=!0)},o(i){S(o,i),n=!1},d(i){i&&I(t),o&&o.d(i)}}}function It(e){let t;const n=e[3].bottom,r=le(n,e,e[2],vt);return{c(){r&&r.c()},m(o,i){r&&r.m(o,i),t=!0},p(o,i){r&&r.p&&(!t||i&4)&&oe(r,n,o,o[2],t?re(n,o[2],i,Pi):se(o[2]),vt)},i(o){t||(y(r,o),t=!0)},o(o){S(r,o),t=!1},d(o){r&&r.d(o)}}}function Wi(e){let t,n,r,o,i,l,s,u,a,f,c=e[1].titleActions&&Et(e),g=e[1].insetActions&&St(e);const d=e[3].default,p=le(d,e,e[2],null);let b=e[1].bottom&&It(e);return{c(){t=v("div"),n=v("div"),r=v("span"),o=P(e[0]),i=k(),c&&c.c(),l=k(),g&&g.c(),s=k(),u=v("div"),p&&p.c(),a=k(),b&&b.c(),m(r,"class","ui-panel-title-text svelte-1jqmfef"),m(n,"class","ui-panel-title svelte-1jqmfef"),m(u,"class","ui-inset flex flex-col gap-3 svelte-1jqmfef"),m(t,"class","ui-panel svelte-1jqmfef")},m(A,E){L(A,t,E),w(t,n),w(n,r),w(r,o),w(n,i),c&&c.m(n,null),w(t,l),g&&g.m(t,null),w(t,s),w(t,u),p&&p.m(u,null),w(t,a),b&&b.m(t,null),f=!0},p(A,[E]){(!f||E&1)&&J(o,A[0]),A[1].titleActions?c?(c.p(A,E),E&2&&y(c,1)):(c=Et(A),c.c(),y(c,1),c.m(n,null)):c&&(Ie(),S(c,1,1,()=>{c=null}),Le()),A[1].insetActions?g?(g.p(A,E),E&2&&y(g,1)):(g=St(A),g.c(),y(g,1),g.m(t,s)):g&&(Ie(),S(g,1,1,()=>{g=null}),Le()),p&&p.p&&(!f||E&4)&&oe(p,d,A,A[2],f?re(d,A[2],E,null):se(A[2]),null),A[1].bottom?b?(b.p(A,E),E&2&&y(b,1)):(b=It(A),b.c(),y(b,1),b.m(t,null)):b&&(Ie(),S(b,1,1,()=>{b=null}),Le())},i(A){f||(y(c),y(g),y(p,A),y(b),f=!0)},o(A){S(c),S(g),S(p,A),S(b),f=!1},d(A){A&&I(t),c&&c.d(),g&&g.d(),p&&p.d(A),b&&b.d()}}}function Ki(e,t,n){let{$$slots:r={},$$scope:o}=t;const i=gn(r);let{title:l="Title"}=t;return e.$$set=s=>{"title"in s&&n(0,l=s.title),"$$scope"in s&&n(2,o=s.$$scope)},[l,i,o,r]}class Lt extends te{constructor(t){super(),ee(this,t,Ki,Wi,Q,{title:0})}}function Bi(e){let t,n,r,o;const i=e[2].default,l=le(i,e,e[1],null);return{c(){t=v("select"),l&&l.c(),m(t,"class","button svelte-1sq14lb"),e[0]===void 0&&Ve(()=>e[4].call(t))},m(s,u){L(s,t,u),l&&l.m(t,null),ct(t,e[0],!0),n=!0,r||(o=[D(t,"change",e[4]),D(t,"input",e[3])],r=!0)},p(s,[u]){l&&l.p&&(!n||u&2)&&oe(l,i,s,s[1],n?re(i,s[1],u,null):se(s[1]),null),u&1&&ct(t,s[0])},i(s){n||(y(l,s),n=!0)},o(s){S(l,s),n=!1},d(s){s&&I(t),l&&l.d(s),r=!1,$(o)}}}function Gi(e,t,n){let{$$slots:r={},$$scope:o}=t,{value:i=void 0}=t;function l(u){ce.call(this,e,u)}function s(){i=_n(this),n(0,i)}return e.$$set=u=>{"value"in u&&n(0,i=u.value),"$$scope"in u&&n(1,o=u.$$scope)},[i,o,r,l,s]}class Ni extends te{constructor(t){super(),ee(this,t,Gi,Bi,Q,{value:0})}}const Hi="data:image/png;base64,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",ji=""+new URL("factorio-logo-sm-808977eb.png",import.meta.url).href,qi=""+new URL("space-age-logo-sm-eb905b8d.png",import.meta.url).href,Xi=""+new URL("space-exploration-logo-sm-4b92b793.png",import.meta.url).href,kt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAKlBMVEVHcEwAAAAfHx8cHBwgGCAaGhobGxsdHR0cGxwdGx0dHB0dGx0cGxwdHB1lWD2SAAAADXRSTlMAARAbHzBKV7nS7Pb6Lu0p3AAAAHpJREFUeNrt0cEOgyAQRdHrKArI+//fLTHSQkCbLpt4FhMS7mIIvAVVAj01LoIZYO6DyTJlZvVpgoPzSUPJu+N+16XdAV43PJB0IwHnVos1lnPTzwuNhikD6iAEKGMYSFDGE/x58P27G32wWmPtgs5PQdRQpNiGRdwAXu7GGlNNMx8NAAAAAElFTkSuQmCC",Mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAKlBMVEVHcEz////f39/i4uLe3t7f39/f39/h4eHg4ODg4ODg4ODg4ODh4eHh4eHsiPRnAAAADXRSTlMAARAbHzBKV7nS7Pb6Lu0p3AAAAHpJREFUeNrt0cEOgyAQRdHrKArI+//fLTHSQkCbLpt4FhMS7mIIvAVVAj01LoIZYO6DyTJlZvVpgoPzSUPJu+N+16XdAV43PJB0IwHnVos1lnPTzwuNhikD6iAEKGMYSFDGE/x58P27G32wWmPtgs5PQdRQpNiGRdwAXu7GGlNNMx8NAAAAAElFTkSuQmCC";function Ui(e){let t,n,r;function o(l){e[14](l)}let i={id:e[26],min:1,max:254,disabled:!e[1].inputSrc};return e[2]!==void 0&&(i.value=e[2]),t=new Jt({props:i}),X.push(()=>me(t,"value",o)),t.$on("change",e[11]),{c(){B(t.$$.fragment)},m(l,s){O(t,l,s),r=!0},p(l,s){const u={};s&67108864&&(u.id=l[26]),s&2&&(u.disabled=!l[1].inputSrc),!n&&s&4&&(n=!0,u.value=l[2],ge(()=>n=!1)),t.$set(u)},i(l){r||(y(t.$$.fragment,l),r=!0)},o(l){S(t.$$.fragment,l),r=!1},d(l){R(t,l)}}}function zi(e){let t,n;return t=new Be({props:{title:"Alpha Threshold",hint:"Any pixel with an alpha channel (opacity) value less than the threshold will be removed. This can be helpful if the image you're importing has transparency but does not have sharp edges.",$$slots:{default:[Ui,({inputId:r})=>({26:r}),({inputId:r})=>r?67108864:0]},$$scope:{ctx:e}}}),{c(){B(t.$$.fragment)},m(r,o){O(t,r,o),n=!0},p(r,o){const i={};o&201326598&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){S(t.$$.fragment,r),n=!1},d(r){R(t,r)}}}function Ji(e){let t,n,r;return n=new di({props:{accept:"image/png,image/jpeg,image/webp,image/gif",multiple:"false",$$slots:{default:[Yi]},$$scope:{ctx:e}}}),n.$on("drop",e[9]),{c(){t=v("div"),B(n.$$.fragment),m(t,"class","w-full p-2")},m(o,i){L(o,t,i),O(n,t,null),r=!0},p(o,i){const l={};i&134217728&&(l.$$scope={dirty:i,ctx:o}),n.$set(l)},i(o){r||(y(n.$$.fragment,o),r=!0)},o(o){S(n.$$.fragment,o),r=!1},d(o){o&&I(t),R(n)}}}function Vi(e){let t,n,r,o,i,l=e[1].sourceWidth+"",s,u,a=e[1].sourceHeight+"",f,c,g;return{c(){t=v("div"),n=v("img"),o=k(),i=v("div"),s=P(l),u=P("×"),f=P(a),m(n,"id","inputImg"),de(n.src,r=e[1].inputSrc)||m(n,"src",r),m(n,"alt","Input source"),m(n,"class","max-w-full"),m(t,"class","flex flex-col items-center justify-center")},m(d,p){L(d,t,p),w(t,n),w(t,o),w(t,i),w(i,s),w(i,u),w(i,f),c||(g=D(n,"load",e[10]),c=!0)},p(d,p){p&2&&!de(n.src,r=d[1].inputSrc)&&m(n,"src",r),p&2&&l!==(l=d[1].sourceWidth+"")&&J(s,l),p&2&&a!==(a=d[1].sourceHeight+"")&&J(f,a)},i:G,o:G,d(d){d&&I(t),c=!1,g()}}}function Yi(e){let t;return{c(){t=v("div"),t.innerHTML=`Paste an image in this browser window, or click to choose a GIF,
                JPEG, PNG, or WEBP image or drag and drop it here.<br/> Best results
                are achieved with pixel art.`,m(t,"class","mx-auto text-center")},m(n,r){L(n,t,r)},p:G,d(n){n&&I(t)}}}function Qi(e){let t,n,r,o;const i=[Vi,Ji],l=[];function s(u,a){return u[1].inputSrc?0:1}return t=s(e),n=l[t]=i[t](e),{c(){n.c(),r=Rt()},m(u,a){l[t].m(u,a),L(u,r,a),o=!0},p(u,a){let f=t;t=s(u),t===f?l[t].p(u,a):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Le(),n=l[t],n?n.p(u,a):(n=l[t]=i[t](u),n.c()),y(n,1),n.m(r.parentNode,r))},i(u){o||(y(n),o=!0)},o(u){S(n),o=!1},d(u){l[t].d(u),u&&I(r)}}}function Zi(e){let t,n,r,o;return t=new Ke({props:{$$slots:{default:[zi]},$$scope:{ctx:e}}}),r=new Ke({props:{title:"Source",$$slots:{default:[Qi]},$$scope:{ctx:e}}}),{c(){B(t.$$.fragment),n=k(),B(r.$$.fragment)},m(i,l){O(t,i,l),L(i,n,l),O(r,i,l),o=!0},p(i,l){const s={};l&134217734&&(s.$$scope={dirty:l,ctx:i}),t.$set(s);const u={};l&134217730&&(u.$$scope={dirty:l,ctx:i}),r.$set(u)},i(i){o||(y(t.$$.fragment,i),y(r.$$.fragment,i),o=!0)},o(i){S(t.$$.fragment,i),S(r.$$.fragment,i),o=!1},d(i){R(t,i),i&&I(n),R(r,i)}}}function xi(e){let t,n,r,o,i,l,s;return{c(){t=v("div"),n=v("button"),r=v("img"),de(r.src,o=e[1].inputSrc?kt:Mt)||m(r,"src",o),m(r,"alt","Reset"),m(n,"class","btn btn-icon btn-danger"),n.disabled=i=!e[1].inputSrc,m(t,"slot","insetActions")},m(u,a){L(u,t,a),w(t,n),w(n,r),l||(s=D(n,"click",e[13]),l=!0)},p(u,a){a&2&&!de(r.src,o=u[1].inputSrc?kt:Mt)&&m(r,"src",o),a&2&&i!==(i=!u[1].inputSrc)&&(n.disabled=i)},d(u){u&&I(t),l=!1,s()}}}function $i(e){let t,n,r,o,i;return{c(){t=v("option"),t.textContent="Space Age",n=k(),r=v("option"),r.textContent="Space Exploration",o=k(),i=v("option"),i.textContent="Custom",t.__value="space-age",t.value=t.__value,r.__value="space-exploration",r.value=r.__value,i.__value="custom",i.value=i.__value},m(l,s){L(l,t,s),L(l,n,s),L(l,r,s),L(l,o,s),L(l,i,s)},p:G,d(l){l&&I(t),l&&I(n),l&&I(r),l&&I(o),l&&I(i)}}}function el(e){let t,n,r;function o(l){e[16](l)}let i={$$slots:{default:[$i]},$$scope:{ctx:e}};return e[1].module!==void 0&&(i.value=e[1].module),t=new Ni({props:i}),X.push(()=>me(t,"value",o)),t.$on("change",e[11]),{c(){B(t.$$.fragment)},m(l,s){O(t,l,s),r=!0},p(l,s){const u={};s&134217728&&(u.$$scope={dirty:s,ctx:l}),!n&&s&2&&(n=!0,u.value=l[1].module,ge(()=>n=!1)),t.$set(u)},i(l){r||(y(t.$$.fragment,l),r=!0)},o(l){S(t.$$.fragment,l),r=!1},d(l){R(t,l)}}}function Dt(e){let t,n,r,o;return t=new Be({props:{title:"Floor Tile",hint:"The game identifier of the custom floor tile you want to use.",$$slots:{default:[tl,({inputId:i})=>({26:i}),({inputId:i})=>i?67108864:0]},$$scope:{ctx:e}}}),r=new Be({props:{title:"Wall Entity",hint:"The game identifier of the custom wall entity you want to use.",$$slots:{default:[nl,({inputId:i})=>({26:i}),({inputId:i})=>i?67108864:0]},$$scope:{ctx:e}}}),{c(){B(t.$$.fragment),n=k(),B(r.$$.fragment)},m(i,l){O(t,i,l),L(i,n,l),O(r,i,l),o=!0},p(i,l){const s={};l&201326594&&(s.$$scope={dirty:l,ctx:i}),t.$set(s);const u={};l&201326594&&(u.$$scope={dirty:l,ctx:i}),r.$set(u)},i(i){o||(y(t.$$.fragment,i),y(r.$$.fragment,i),o=!0)},o(i){S(t.$$.fragment,i),S(r.$$.fragment,i),o=!1},d(i){R(t,i),i&&I(n),R(r,i)}}}function tl(e){let t,n,r;function o(l){e[17](l)}let i={id:e[26]};return e[1].customFloorTile!==void 0&&(i.value=e[1].customFloorTile),t=new ot({props:i}),X.push(()=>me(t,"value",o)),t.$on("change",e[11]),{c(){B(t.$$.fragment)},m(l,s){O(t,l,s),r=!0},p(l,s){const u={};s&67108864&&(u.id=l[26]),!n&&s&2&&(n=!0,u.value=l[1].customFloorTile,ge(()=>n=!1)),t.$set(u)},i(l){r||(y(t.$$.fragment,l),r=!0)},o(l){S(t.$$.fragment,l),r=!1},d(l){R(t,l)}}}function nl(e){let t,n,r;function o(l){e[18](l)}let i={id:e[26]};return e[1].customWallTile!==void 0&&(i.value=e[1].customWallTile),t=new ot({props:i}),X.push(()=>me(t,"value",o)),t.$on("change",e[11]),{c(){B(t.$$.fragment)},m(l,s){O(t,l,s),r=!0},p(l,s){const u={};s&67108864&&(u.id=l[26]),!n&&s&2&&(n=!0,u.value=l[1].customWallTile,ge(()=>n=!1)),t.$set(u)},i(l){r||(y(t.$$.fragment,l),r=!0)},o(l){S(t.$$.fragment,l),r=!1},d(l){R(t,l)}}}function il(e){let t,n,r;function o(l){e[19](l)}let i={id:e[26],min:10,max:e[7],step:1,disabled:!e[1].inputSrc};return e[0]!==void 0&&(i.value=e[0]),t=new Jt({props:i}),X.push(()=>me(t,"value",o)),t.$on("input",e[11]),{c(){B(t.$$.fragment)},m(l,s){O(t,l,s),r=!0},p(l,s){const u={};s&67108864&&(u.id=l[26]),s&128&&(u.max=l[7]),s&2&&(u.disabled=!l[1].inputSrc),!n&&s&1&&(n=!0,u.value=l[0],ge(()=>n=!1)),t.$set(u)},i(l){r||(y(t.$$.fragment,l),r=!0)},o(l){S(t.$$.fragment,l),r=!1},d(l){R(t,l)}}}function ll(e){let t;return{c(){t=P("Generate Walls")},m(n,r){L(n,t,r)},d(n){n&&I(t)}}}function rl(e){let t,n,r,o,i,l,s,u,a;t=new Be({props:{title:"Blueprint Base",hint:"The game or mod that will be used to create the blueprint. Determines maximum sizes and the default floor and wall tiles.",$$slots:{default:[el]},$$scope:{ctx:e}}});let f=e[1].module==="custom"&&Dt(e);o=new Be({props:{title:"Max Size",hint:"The maximum width or height in tiles that the blueprint will be. The input image will be scaled down. 35 is a small ship (like for science), 50 is a mid-size travel ship, 75-100 is a large self-sufficient ship, and anything 150 or above is very large. The maximum size for Space Age 200x200, inclusive of the hub; Space Exploration does not have a maximum size.",$$slots:{default:[il,({inputId:d})=>({26:d}),({inputId:d})=>d?67108864:0]},$$scope:{ctx:e}}});function c(d){e[20](d)}let g={hint:"Whether to generate walls or not. Required for Space Exploration ships, not necessary for Space Age platforms except for aesthetics.",$$slots:{default:[ll]},$$scope:{ctx:e}};return e[1].generateWalls!==void 0&&(g.checked=e[1].generateWalls),s=new Si({props:g}),X.push(()=>me(s,"checked",c)),s.$on("input",e[11]),{c(){B(t.$$.fragment),n=k(),f&&f.c(),r=k(),B(o.$$.fragment),i=k(),l=v("div"),B(s.$$.fragment),m(l,"class","flex gap-1 px-2 first:pt-2 last:pb-2")},m(d,p){O(t,d,p),L(d,n,p),f&&f.m(d,p),L(d,r,p),O(o,d,p),L(d,i,p),L(d,l,p),O(s,l,null),a=!0},p(d,p){const b={};p&134217730&&(b.$$scope={dirty:p,ctx:d}),t.$set(b),d[1].module==="custom"?f?(f.p(d,p),p&2&&y(f,1)):(f=Dt(d),f.c(),y(f,1),f.m(r.parentNode,r)):f&&(Ie(),S(f,1,1,()=>{f=null}),Le());const A={};p&201326723&&(A.$$scope={dirty:p,ctx:d}),o.$set(A);const E={};p&134217728&&(E.$$scope={dirty:p,ctx:d}),!u&&p&2&&(u=!0,E.checked=d[1].generateWalls,ge(()=>u=!1)),s.$set(E)},i(d){a||(y(t.$$.fragment,d),y(f),y(o.$$.fragment,d),y(s.$$.fragment,d),a=!0)},o(d){S(t.$$.fragment,d),S(f),S(o.$$.fragment,d),S(s.$$.fragment,d),a=!1},d(d){R(t,d),d&&I(n),f&&f.d(d),d&&I(r),R(o,d),d&&I(i),d&&I(l),R(s)}}}function Ct(e){let t,n,r,o;return t=new Ke({props:{title:"Blueprint Preview",$$slots:{default:[ol]},$$scope:{ctx:e}}}),r=new Ke({props:{title:"Components",$$slots:{default:[sl]},$$scope:{ctx:e}}}),{c(){B(t.$$.fragment),n=k(),B(r.$$.fragment)},m(i,l){O(t,i,l),L(i,n,l),O(r,i,l),o=!0},p(i,l){const s={};l&134217778&&(s.$$scope={dirty:l,ctx:i}),t.$set(s);const u={};l&134217794&&(u.$$scope={dirty:l,ctx:i}),r.$set(u)},i(i){o||(y(t.$$.fragment,i),y(r.$$.fragment,i),o=!0)},o(i){S(t.$$.fragment,i),S(r.$$.fragment,i),o=!1},d(i){R(t,i),i&&I(n),R(r,i)}}}function ol(e){let t,n,r,o,i=e[1].outputWidth+"",l,s,u=e[1].outputHeight+"",a,f,c=e[1].outputWidth*e[1].outputHeight+"",g,d,p,b;return{c(){t=v("div"),n=v("canvas"),r=k(),o=v("div"),l=P(i),s=P("×"),a=P(u),f=P(` =
              `),g=P(c),d=P(" t² ("),p=P(e[5]),b=P(")"),m(n,"id","outputCanvas"),m(n,"class","pixelated mx-auto max-w-full svelte-etfx7j"),ne(n,"width","0px"),ne(n,"height","0px"),m(t,"class","my-4 w-full text-center")},m(A,E){L(A,t,E),w(t,n),e[21](n),w(t,r),w(t,o),w(o,l),w(o,s),w(o,a),w(o,f),w(o,g),w(o,d),w(o,p),w(o,b)},p(A,E){E&2&&i!==(i=A[1].outputWidth+"")&&J(l,i),E&2&&u!==(u=A[1].outputHeight+"")&&J(a,u),E&2&&c!==(c=A[1].outputWidth*A[1].outputHeight+"")&&J(g,c),E&32&&J(p,A[5])},d(A){A&&I(t),e[21](null)}}}function sl(e){let t,n,r,o=e[6].floor+"",i,l,s,u=e[1].outputTileCount+"",a,f,c,g,d=e[6].wall+"",p,b,A,E=e[1].outputEntityCount+"",F;return{c(){t=v("div"),n=v("div"),r=v("div"),i=P(o),l=k(),s=v("div"),a=P(u),f=k(),c=v("div"),g=v("div"),p=P(d),b=k(),A=v("div"),F=P(E),ne(s,"text-shadow","1px 1px 3px black"),ne(s,"font-weight","bold"),m(n,"class","inset-object flex w-full flex-auto justify-between p-2 svelte-etfx7j"),ne(A,"text-shadow","1px 1px 3px black"),ne(A,"font-weight","bold"),m(c,"class","inset-object flex w-full flex-auto justify-between p-2 svelte-etfx7j"),m(t,"class","flex w-full flex-row justify-between gap-2 p-2")},m(T,C){L(T,t,C),w(t,n),w(n,r),w(r,i),w(n,l),w(n,s),w(s,a),w(t,f),w(t,c),w(c,g),w(g,p),w(c,b),w(c,A),w(A,F)},p(T,C){C&64&&o!==(o=T[6].floor+"")&&J(i,o),C&2&&u!==(u=T[1].outputTileCount+"")&&J(a,u),C&64&&d!==(d=T[6].wall+"")&&J(p,d),C&2&&E!==(E=T[1].outputEntityCount+"")&&J(F,E)},d(T){T&&I(t)}}}function ul(e){let t,n,r,o;t=new Ke({props:{$$slots:{default:[rl]},$$scope:{ctx:e}}});let i=e[1].inputSrc&&Ct(e);return{c(){B(t.$$.fragment),n=k(),i&&i.c(),r=Rt()},m(l,s){O(t,l,s),L(l,n,s),i&&i.m(l,s),L(l,r,s),o=!0},p(l,s){const u={};s&134217859&&(u.$$scope={dirty:s,ctx:l}),t.$set(u),l[1].inputSrc?i?(i.p(l,s),s&2&&y(i,1)):(i=Ct(l),i.c(),y(i,1),i.m(r.parentNode,r)):i&&(Ie(),S(i,1,1,()=>{i=null}),Le())},i(l){o||(y(t.$$.fragment,l),y(i),o=!0)},o(l){S(t.$$.fragment,l),S(i),o=!1},d(l){R(t,l),l&&I(n),i&&i.d(l),l&&I(r)}}}function al(e){let t,n,r,o,i,l,s,u;return{c(){t=v("div"),n=v("button"),r=v("img"),i=P(" Copy Import String"),de(r.src,o=Hi)||m(r,"src",o),m(r,"alt","blueprint-icon"),m(r,"class","svelte-etfx7j"),m(n,"class","btn-copy-blueprint svelte-etfx7j"),n.disabled=l=!e[1].blueprint,m(t,"slot","insetActions")},m(a,f){L(a,t,f),w(t,n),w(n,r),w(n,i),s||(u=D(n,"click",e[15]),s=!0)},p(a,f){f&2&&l!==(l=!a[1].blueprint)&&(n.disabled=l)},d(a){a&&I(t),s=!1,u()}}}function fl(e){let t,n,r,o,i,l,s,u,a,f,c,g,d,p,b,A,E,F,T,C,Z,H,W,N,z,V;return T=new Lt({props:{title:"Input",$$slots:{insetActions:[xi],default:[Zi]},$$scope:{ctx:e}}}),z=new Lt({props:{title:"Output",$$slots:{insetActions:[al],default:[ul]},$$scope:{ctx:e}}}),{c(){t=v("div"),n=v("div"),n.innerHTML='<h1 class="text-5xl">Spaceship Generator</h1>',r=k(),o=v("div"),i=v("a"),l=v("img"),u=k(),a=v("a"),f=v("img"),g=k(),d=v("a"),p=v("img"),A=k(),E=v("main"),F=v("div"),B(T.$$.fragment),C=k(),Z=v("div"),H=P(e[3]),W=k(),N=v("div"),B(z.$$.fragment),de(l.src,s=ji)||m(l,"src",s),m(l,"alt","Factorio logo"),m(l,"class","w-60"),m(i,"href","https://factorio.com/"),de(f.src,c=qi)||m(f,"src",c),m(f,"alt","Space Age logo"),m(f,"class","w-60"),m(a,"href","https://www.factorio.com/space-age/overview"),de(p.src,b=Xi)||m(p,"src",b),m(p,"alt","Space Exploration logo"),m(p,"class","w-60"),m(d,"href","https://mods.factorio.com/mod/space-exploration"),m(o,"class","flex items-center"),m(t,"class","mb-4 flex flex-col items-center justify-between md:flex-row"),m(Z,"class","error svelte-etfx7j"),m(F,"class","flex w-full flex-col gap-4"),m(N,"class","w-full"),m(E,"class","flex flex-col gap-4 lg:flex-row")},m(K,U){L(K,t,U),w(t,n),w(t,r),w(t,o),w(o,i),w(i,l),w(o,u),w(o,a),w(a,f),w(o,g),w(o,d),w(d,p),L(K,A,U),L(K,E,U),w(E,F),O(T,F,null),w(F,C),w(F,Z),w(Z,H),w(E,W),w(E,N),O(z,N,null),V=!0},p(K,[U]){const h={};U&134217734&&(h.$$scope={dirty:U,ctx:K}),T.$set(h),(!V||U&8)&&J(H,K[3]);const M={};U&134217971&&(M.$$scope={dirty:U,ctx:K}),z.$set(M)},i(K){V||(y(T.$$.fragment,K),y(z.$$.fragment,K),V=!0)},o(K){S(T.$$.fragment,K),S(z.$$.fragment,K),V=!1},d(K){K&&I(t),K&&I(A),K&&I(E),R(T),R(z)}}}const Tt=1,Ft=50;function cl(e,t){return e<=10?"Tiny":e<=35?"Small":e<=50?"Medium":e<=100?"Large":e<=150?"Very large":e>200&&t==="space-age"?"Too large":"Absurdly large"}function dl(e,t,n){let r,o,i,l;xe(e,Y,h=>n(1,o=h)),xe(e,On,h=>n(6,i=h)),xe(e,Rn,h=>n(7,l=h));let s=Tt,u="",a=Ft,f=!1,c,g;function d(){Pn(),n(2,s=Tt),n(3,u=""),n(0,a=Ft),f=!1,A()}function p(h){const{acceptedFiles:M,fileRejections:j}=h.detail;if(j.length>0){alert("File type not supported! Images must be in GIF, JPEG, PNG, or WEBP format.");return}if(M.length===0){alert("No files selected!");return}if(M.length>1){alert("Only one file can be processed at a time!");return}dt(M[0])}function b(h){console.log("onSourceImageLoaded");const M=h.target;ut(Y,o.sourceWidth=M.naturalWidth,o),ut(Y,o.sourceHeight=M.naturalHeight,o),E()}function A(){if(!o.imageData)return;console.log("refreshCanvas"),g=c.getContext("2d"),g.clearRect(0,0,c.width,c.height);const{imageData:h,sourceWidth:M}=o;n(4,c.width=h.width,c),n(4,c.height=h.height,c),n(4,c.style.width=`${M}px`,c),n(4,c.style.height="auto",c),g.putImageData(h,0,0,0,0,h.width,h.height)}function E(){f||(f=!0,requestIdleCallback(()=>{try{n(3,u=""),console.log("generate"),o.inputSrc&&(Wn(a,s,i.floor,i.wall,o.generateWalls),A())}catch(h){n(3,u=h.message.toString())}f=!1}))}async function F(){await navigator.clipboard.writeText(o.blueprint)}function T(h){const M=h.clipboardData.items;for(let j=0;j<M.length;j++)if(M[j].type==="image/gif"||M[j].type==="image/jpeg"||M[j].type==="image/png"||M[j].type==="image/webp"){dt(M[j].getAsFile());break}}bn(()=>{window.addEventListener("paste",T)}),Wt(()=>{window.removeEventListener("paste",T)});const C=()=>d();function Z(h){s=h,n(2,s)}const H=()=>F();function W(h){e.$$.not_equal(o.module,h)&&(o.module=h,Y.set(o))}function N(h){e.$$.not_equal(o.customFloorTile,h)&&(o.customFloorTile=h,Y.set(o))}function z(h){e.$$.not_equal(o.customWallTile,h)&&(o.customWallTile=h,Y.set(o))}function V(h){a=h,n(0,a)}function K(h){e.$$.not_equal(o.generateWalls,h)&&(o.generateWalls=h,Y.set(o))}function U(h){X[h?"unshift":"push"](()=>{c=h,n(4,c)})}return e.$$.update=()=>{e.$$.dirty&3&&n(5,r=cl(a,o.module))},[a,o,s,u,c,r,i,l,d,p,b,E,F,C,Z,H,W,N,z,V,K,U]}class gl extends te{constructor(t){super(),ee(this,t,dl,fl,Q,{})}}const ml=async()=>{const e=performance.now();await Nt();const t=performance.now();console.debug(`Call to wasm init took ${t-e} milliseconds`),new gl({target:document.getElementById("app")})};ml();
